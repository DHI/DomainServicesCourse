(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,a){e.exports=a("802ed213c65f4a3ad06f")},"4404acc5addcd283a972":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("6938d226fd372a75cbf9");const r=Object(n.makeStyles)(e=>{var t;return{root:{display:"flex"},loginRoot:{backgroundColor:(t=e.palette.primary.main,null!=t?t:"#FFF"),display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object.assign({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - 240px)",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up("sm")]:{width:e.spacing(9)}},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},link:{width:"100%",display:"inline-flex",textDecoration:"none",color:e.palette.primary.main},notFoundPaper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}},{index:10})},"802ed213c65f4a3ad06f":function(e,t,a){"use strict";a.r(t);var n=a("8af190b70a6bc55c6f1b"),r=a.n(n),i=a("63f14ac74ce296f77f4d"),o=a.n(i),s=a("e95a63b25fb92ed15721"),l=(a("2c09af3fb5c4ba3698b3"),a("0d939196e59ed73c94e6")),c=a("f80cfb70fdcfc87cd982"),d=a.n(c),u=a("0d1bf354bd0e215272ac"),p=a("711f9393a7bdb8588a8c"),m=a("988b7bbe4d0c07f69a17"),g=a.n(m),h=a("bc576865d376b3ec3f58"),b=a("4404acc5addcd283a972");var f=()=>{var e;const{authService:t,pages:a}=h.b,i=Object(s.useHistory)(),o=Object(b.a)(),[c,d]=Object(n.useState)(!0),[u,m]=Object(n.useState)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.AppBar,{position:"absolute",className:g()(o.appBar,c&&o.appBarShift)},r.a.createElement(l.Toolbar,{className:o.toolbar},r.a.createElement(l.IconButton,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:()=>{d(!0)},className:g()(o.menuButton,c&&o.menuButtonHidden)},r.a.createElement(p.Menu,null)),r.a.createElement(l.Typography,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:o.title},"Domain Services Ops"),r.a.createElement(l.IconButton,{color:"inherit",onClick:()=>(t.logout(),i.push("/login"))},r.a.createElement(p.ExitToApp,null)))),r.a.createElement(l.Drawer,{variant:"permanent",classes:{paper:g()(o.drawerPaper,!c&&o.drawerPaperClose)},open:c},r.a.createElement("div",{className:o.toolbarIcon},r.a.createElement(l.IconButton,{onClick:()=>{d(!1)}},r.a.createElement(p.ChevronLeft,null))),r.a.createElement(l.Divider,null),r.a.createElement(l.List,null,r.a.createElement("div",null,null===(e=a)||void 0===e?void 0:e.map((e,t)=>{var a,n,i;return(e.enabled||void 0===e.enabled)&&r.a.createElement(l.ListItem,{key:t,button:!0,onClick:()=>m(e),selected:e.name===(null===(a=u)||void 0===a?void 0:a.name)},r.a.createElement(s.Link,{to:null===(i=null===(n=e)||void 0===n?void 0:n.name)||void 0===i?void 0:i.replace(/\s/g,"-").toLowerCase(),className:o.link},r.a.createElement(l.ListItemIcon,{key:t+20},(e=>{switch(e){case"Accounts":return r.a.createElement(p.AccountBox,null);case"JobList":return r.a.createElement(p.Settings,null);case"LogList":return r.a.createElement(p.Assignment,null);case"UserGroups":return r.a.createElement(p.Group,null);default:return null}})(e.type)),r.a.createElement(l.ListItemText,{key:t+30,primary:e.name})))})))))};const v=Object(n.lazy)(()=>a.e(3).then(a.bind(null,"a4c22ad71f1d87b5fe60"))),y=Object(n.lazy)(()=>a.e(4).then(a.bind(null,"b4ceab9a406d822cc9f5"))),w=Object(n.lazy)(()=>a.e(5).then(a.bind(null,"438e3a4b0c885c2968d6"))),E=Object(n.lazy)(()=>a.e(7).then(a.bind(null,"f84b4802f33f808820f4"))),x=Object(n.lazy)(()=>a.e(6).then(a.bind(null,"79bff3790599fe625c08")));var S=()=>{const e=Object(b.a)(),{pages:t}=h.b,a=e=>{switch(e.type){case"Accounts":return v;case"JobList":return y;case"LogList":return w;case"UserGroups":return E;default:return x}},n=t?t.reduce((e,t)=>{var n,r;return[...e,(t.enabled||void 0===t.enabled)&&{path:(null===(r=null===(n=t)||void 0===n?void 0:n.name)||void 0===r?void 0:r.replace(/\s/g,"-").toLowerCase())||"*",component:a(t)||null,configuration:t.configuration||[]}]},[]):[];return r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(l.Container,{maxWidth:!1,className:e.container},r.a.createElement(s.Switch,null,r.a.createElement(s.Route,{exact:!0,path:"/",render:()=>r.a.createElement(s.Redirect,{to:"/accounts"})}),n.map((e,t)=>r.a.createElement(s.Route,{key:t,path:"/"+e.path,render:()=>r.a.createElement(e.component,Object.assign({},e))})),r.a.createElement(s.Route,{path:"*",component:x}))))},j=a("97d5b287a13ab3770072"),C=a("6938d226fd372a75cbf9");const O=Object(C.makeStyles)(e=>{var t;return{loginRoot:{backgroundColor:(t=e.palette.primary.main,null!=t?t:"#FFF"),display:"flex"},title:{flexGrow:1}}});var k=({path:e})=>{var t,a,n,i,o;const c=O(),{appSettings:u,pages:p}=h.b,m=Object(s.useHistory)();return r.a.createElement("div",{className:c.loginRoot},r.a.createElement(d.a,null),r.a.createElement(l.Grid,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},(null===(t=u)||void 0===t?void 0:t.logo)&&r.a.createElement(l.Grid,{item:!0,xs:12,md:4},r.a.createElement("img",{src:null===(a=u)||void 0===a?void 0:a.logo,alt:(null===(n=u)||void 0===n?void 0:n.siteName)+" logo"})),r.a.createElement(l.Grid,{item:!0,xs:12,md:4},r.a.createElement(l.Card,null,r.a.createElement(l.CardContent,{style:{padding:40}},(null===(i=u)||void 0===i?void 0:i.siteName)&&r.a.createElement(l.Typography,{component:"h1",variant:"h4",color:"primary",noWrap:!0,className:c.title},null===(o=u)||void 0===o?void 0:o.siteName),r.a.createElement(l.Grid,{container:!0,spacing:0,direction:"row",alignItems:"center",justify:"space-between",style:{paddingBottom:20}}),r.a.createElement(j.Login,{host:u.authHost,onSuccess:()=>{"/login"===e?m.push("/accounts"):m.push(e)},onError:()=>{console.log("login error.")},showRememberMe:!0,textFieldVariant:"standard"}),r.a.createElement("div",{style:{clear:"both"}}))))))};const B=Object(n.createContext)(new class{constructor(){this.appStateStore=new h.a}}),{Provider:I,Consumer:D}=B,T=Object(u.a)(({children:e})=>{const{appStateStore:t}=Object(n.useContext)(B),[a,i]=Object(n.useState)(),o=Object(s.useLocation)(),l=h.b.authService.isAuthenticated();return Object(n.useEffect)(()=>{a||i(o.pathname)},[o.pathname,a]),r.a.createElement(I,{value:{appStateStore:t}},l?e:r.a.createElement(r.a.Fragment,null,r.a.createElement(s.Redirect,{to:"/login"}),r.a.createElement(s.Route,{path:"/login",render:()=>r.a.createElement(k,{path:a})})))}),L=e=>{var t,a,n,r,i,o,s,l;return Object(C.createMuiTheme)({palette:{background:{default:(n=(null===(t=e)||void 0===t?void 0:t.backgroundColor)||(null===(a=e)||void 0===a?void 0:a.primaryColor),null!=n?n:"#FFF")},primary:{main:(i=null===(r=e)||void 0===r?void 0:r.primaryColor,null!=i?i:"#004165")},secondary:{main:(s=null===(o=e)||void 0===o?void 0:o.secondaryColor,null!=s?s:"#0098DB")}},typography:{h1:{color:null===(l=e)||void 0===l?void 0:l.primaryColor}},zIndex:{drawer:1200}})},F=(Object(C.makeStyles)(e=>{var t;return{root:{display:"flex"},loginRoot:{backgroundColor:(t=e.palette.primary.main,null!=t?t:"#FFF"),display:"flex"},loading:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},toolbar:{paddingRight:24},toolbarIcon:Object.assign({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - 240px)",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up("sm")]:{width:e.spacing(9)}},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}},{index:10}),{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"});var N=Object(u.a)(()=>{var e;const{hasConfig:t,appSettings:a}=h.b;return t?r.a.createElement(l.ThemeProvider,{theme:L(null===(e=a)||void 0===e?void 0:e.style)},r.a.createElement(d.a,null),r.a.createElement(T,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",{style:F},r.a.createElement(l.CircularProgress,null))},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(f,null),r.a.createElement(S,null))))):r.a.createElement("div",{style:F},r.a.createElement(l.CircularProgress,null))});const R=document.getElementById("root");o.a.render(r.a.createElement(s.BrowserRouter,null,r.a.createElement(N,null)),R)},bc576865d376b3ec3f58:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a("97d5b287a13ab3770072"),r=a.n(n),i=a("bf25f59755b69bd98fe0"),o=a("637fc40f58ea27d89844");class s{constructor(){this.appSession={accessToken:"",expiration:"",refreshToken:"",user:{activated:!1,allowMePasswordChange:!1,id:"",metadata:null,name:"",roles:[],userGroups:[]}},this.appSettings=null,this.authService=null,this.pages=null,this.hasConfig=!1,this.startTimeUtc=null,this.fetchConfigData=Object(o.b)(()=>{const e=Math.round((new Date).getTime()/1e3);Object(n.fetchUrl)("/portal.json?cacheBust="+e).subscribe(Object(o.b)(e=>{const{pages:t,siteName:a,authHost:n,lastDays:o,style:s,logo:l}=e;this.pages=t,this.appSettings={siteName:a,authHost:n,lastDays:o,style:s,logo:l},this.authService=new r.a(e.authHost);const{accessToken:c,expiration:d,refreshToken:u,user:p}=this.authService.getSession();if(this.appSession={accessToken:c,expiration:d,refreshToken:u,user:p},e.lastDays){const t=e.lastDays%1==0;this.startTimeUtc=t?Object(i.addDays)(new Date,-e.lastDays).toISOString():Object(i.subHours)(new Date,24*e.lastDays).toISOString()}else this.startTimeUtc=Object(i.addDays)(new Date,-1).toISOString();this.hasConfig=!0}))}),this.fetchConfigData(),Object(o.e)(this,{appSession:o.f,appSettings:o.f,authService:o.f,pages:o.f,hasConfig:o.f,startTimeUtc:o.f})}}const l=new s}},[[0,1,2]]]);